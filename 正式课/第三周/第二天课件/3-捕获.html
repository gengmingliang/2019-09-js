<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    //匹配就是查看字符串是否满足正则的规则
    //捕获就是把字符串中满足正则规则的部分 获取到
    //exec  正则.exec(字符串)
    //正则的lastIndex属性时定义了下一次捕获开始的位置
    var reg = /\d+/g
    var res = reg.exec('珠峰你好2019哈哈2020')
    console.log(res)
    var res2 = reg.exec('珠峰你好2019哈哈2020')
    console.log(res2)
    var res3 = reg.exec('珠峰你好2019哈哈2020')
    console.log(res3)
    var res4 = reg.exec('珠峰你好2019哈哈2020')
    console.log(res4)


    var str = '你好2019www哈哈2018hello珠峰2020哈哈2020'//只捕获哈哈后边的数字
    var reg2 = /哈哈(\d+)([a-z]+)/g
    //exec的返回值 第一项是大正则捕获到的内容 从第二项开始都是小分组的内容
    var res = reg2.exec(str)
    console.log(res)

    //自己封装一个
    RegExp.prototype.execAll = function (str = '') {
        var reg = this
        if (!reg.global) {
            //正则没有修饰符g 需要我们补一个g
            reg = eval(reg.toString() + 'g')
        }
        //怎么保证str是字符串
        str = str.toString()
        // this --> reg2
        var res = reg.exec(str)
        var ary = []
        while (res) {
            ary.push(res)
            res = reg.exec(str)//每次while循环都要更新res
        }
        return ary
    }

    var str = '你好2019www哈哈2018hello珠峰2020哈哈2020'//只捕获哈哈后边的数字
    var reg2 = /哈哈(\d+)([a-z]+)/
    console.log(reg2.execAll(str))
</script>